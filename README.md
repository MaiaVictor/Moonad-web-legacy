## Moon: a peer-to-peer operating system

A purely peer-to-peer implementation of an operating system should allow complete applications to freely operate without going through a centralized institution. Ethereum partly solved that problem in 2014, but early design choices lead to a series of difficulties that affected its scalability, security and usability. As such, no such a thing was built on top of it, yet. The purpose of this document isn't to present a new technological breakthrough, but to merely provide an alternative design for a decentralized computer, using stabilished technologies in order to address some of Ethereum's flaws and, as such, construct a peer-to-peer operating system that is simple, fast, secure and ready for widespread adoption. 

Instead of a sequential, stack-based virtual machine with numerous primitive opcodes and a complex state-management machinery that requires everyone to process everyone else's transactions, we use a new model of computation, interaction combinators, with only two reduction rules, coupled with optimal reducers, which allow users to process selected subsets of the global state lazily and in parallel, with the minimal amount of work necessary. Instead of low-level, bug-prone languages for smart-contracts, we use a powerful, high-level language capable of deriving mathematical models of its own programs, and proving arbitrary invariants about their executions. Instead of needing separate languages and browsers for user-facing interfaces, everything is presented together as a single, well-integrated package, Moon, which is capable of rendering rich graphical interfaces using the same language used for contracts.

Despite sounding complex, the resulting system is intended to be 1. astonishingly simple, in the sense a regular developer following this document should be able to implement all of it in a month of work, and 2. complete, in the sense it includes everything that is required to build a worldwide computer, with extensions coming from uploaded code, not protocol updates, which should never be needed. This also addresses the common problem of core developers having too much influence, by simply not having core developers at all. Compatibility with Ethereum is maintained through a multiway bridge, which is possible due to Turing completeness on both sides. In other words, Moon shouldn't be seen as a separate, competing network, but as part of the whole.

### History

In 2009, Satoshi Nakamoto released the first decentralized application: Bitcoin, an electronic cash that operated in a purely peer-to-peer fashion, with no single party holding any exclusive power or higher authority over the execution of the system. Bitcoin was designed to eternally operate following the rules initially specified by its code, being thus forever immune to any attempt of corruption, censure or sabotage. Almost 10 years later, that goal has been marvelously successful: not a single bitcoin has ever been created outside the planned schedule, not a single user-balance has been alterated in unexpected manners, not a single entity has obtained power to disturb the system's planned functioning, despite numerous attempts and enormous interest; a fact that can be easily verified by any of its users. Bitcoin is, to all intents and purposes, a global application that perpetually operates following its own rules, independent of any human decision. 

The same properties that made Bitcoin so resilient, though, also made it very inflexible. Using Bitcoin to do anything other than what was originially defined, i.e., sending and receiving digital coins, is hard. As impactiful as Bitcoin was as a digital currency and a store of value, it is, in the end, just a global map of user balances, and, as such, very limited. Such inflexibility lead to the increasing development of alternate currencies covering features that Bitcoin didn't. Namecoin, for example, was a fork of Bitcoin which allowed users to register domains; Monero was a fork with private transactions. Eventually, dozens of similar applications were created, and, while all of those were decentralized themselves, they couldn't interact with each other to construct a fully integrated decentralized economy. As an example, a decade later you can't trade Bitcoin for Monero without going through a centralized thirdy party exchange. In fact, most services around Bitcoin are still centralized. This demonstrates it takes more than a decentralized currecy to build a decentralized economy: what we need is a decentralized computer.

Under that understanding, Vitalik Buterin, in 2013, proposed Ethereum, a distributed computing platform featuring user-defined scripting capabilities. The key insight is that, by including, as part of the system, a virtual machine capable of performing arbitrary computations, users are able to extend it with unpredictably new functionalities. Name registars such as Namecoin, for example, could be added to the system a posteriori, and they were: [ENS](https://ens.domains/) (Ethereum Name System) being the most successful implementation. Private transactions such as Monero's could be realized with posterior incorporation of technologies such as zero-knowledge proofs. Countless other features such as games with fully-autonomous virtual economies, prediction markets and even governments could be designed to live inside Ethereum and, as such, (...)
